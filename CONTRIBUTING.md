# Пам-парам. Приветствую смотрящих!

**Последнее изменение: 01.05.2022**

Добро пожаловать в пометку контрибьютора.
Здесь изложены некоторые правила, которые помогут правильно оформить код в соответствиями с правилами проекта
и выложить пулл реквест.

> Язык коммуникации в проекте - Русский,
> но названия коммитов, пулл реквестов и т.д. должны быть на Английском

## Новым контрибьюторам

### Баг репорты

#### Создание нового баг репорта

Если вы заметили какие-либо баги или недочеты в библиотеке,
для начала проверьте [на наличие такого баг репорта](https://github.com/SecondThundeR/shikithon/issues).

Если же никто не репортил такой ошибки, можете смело создавать баг репорт [здесь](https://github.com/SecondThundeR/shikithon/issues/new).
Желательно описать ошибку коротко и конкретно, без лишней информации ~~и воды~~

Разработчик рассмотрит ваш репорт и, возможно, исправит его _(Или напишет что в нем не так :p)_

#### Помощь в решении баг репорта

Вы настолько отважный, что готовы пофиксить баг, который кто-то зарепортил?

Тогда посмотрите, что нужно сделать, чтобы подготовить систему для разработки и отправки будущего пулл реквеста.

В последствии, когда будете открывать ваш пулл реквест, укажите какой баг репорт вы исправили, чтобы он закрылся автоматически.

Если не знаете, как правильно указать баг репорт для автоматического закрытия, посмотрите [этот гайд](https://docs.github.com/en/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue)

### Пулл реквесты

_Кто-то дошел до этого момента? Удивительно..._

Рад, что вы заинтересованы этим проектом и хотите помочь в его развитии.

Для этого, выполните пару этапов, которые помогут облегчить проверку ваших изменений и их принятия.

> Так как данный проект еще находится на раннем этапе своего развития,
> данные правила не являются пока что полными и могут быть изменены в будущем.
>
> _(Ну и еще сильно строгими они не будут :D)_

#### Подготовка ОС

Для начала нужно определиться с операционной системой.

Поскольку данный проект был создан и разрабатывается на macOS, сначала опишу что нужно сделать тем, кто хочет разрабатывать тоже на ней:

1. В первую очередь, необходимо установить нужные версии Python для проверки работоспособности.
Сделать это можно с помощью Homebrew и пару команд:
   - Для начала установите Homebrew, если он у вас отсутствует. Информация об установке находится [здесь](https://brew.sh/index_ru)
   - Далее, используя две команды, установите две версии Python: ```brew install python@3.8``` и ```brew install python@3.10``` _(На данный момент, это самая последняя версия Python)_
2. Установите Poetry: ```brew install poetry```
3. Находясь в папке проекта, введите в Терминале: ```poetry shell``` и ```poetry install```. Это запустит виртуальное окружение Poetry и установит необходимые зависимости.
    > По умолчанию, Poetry выберет последнюю версию Python, чтобы использовать Python 3.8 в окружении, введите в Терминале: ```poetry env use 3.8```
4. Если вы используете какие-нибудь IDE, не забудьте настроить виртуальное окружение и там

Пользователям Windows нужно пройти пару этапов:
1. Установите [Python 3.8.10](https://www.python.org/downloads/release/python-3810/) и [последний Python](https://www.python.org/downloads/) на текущий момент
   > Почему 3.8.10? А, просто для 3.8.13 нет нормальных установщиков :(
   >
   > _(Если конечно, вы хотите собрать Python из сурсов, то можете собрать и 3.8.13)_
2. Установите Poetry:
    - Если вы используете [Bash on Windows](https://python-poetry.org/docs/#osx--linux--bashonwindows-install-instructions)
    - Если вы используете [Powershell](https://python-poetry.org/docs/#windows-powershell-install-instructions)
3. Выполните пункты 3 и 4 из гайда выше для юзеров macOS
   > Если вы не хотите устанавливать Python 3.8 в PATH, то можете запускать виртуальное окружение, передавая путь до ```python.exe```
   >
   > Например: ```poetry env use "C:\Program Files\Python38\python.exe"```

Пользователям Linux нужно пройти пару этапов:
1. Установите Python 3.8.13 и Python 3.10
_(Лучше загуглить, чем писать тут как это делать под каждый дистрибутив)_
2. Установите Poetry используя [официальную команду](https://python-poetry.org/docs/#osx--linux--bashonwindows-install-instructions)
   > Если же у вас не стоит нужного алиаса под команду ```python```, то не забудьте поменять вызов интерпретатора в конце команды
3. Выполните пункты 3 и 4 из гайда выше для юзеров macOS
   > Если возникнут какие-либо проблемы с Python или Poetry, то к сожалению, вам придется решать их самостоятельно, так как разработчик не имеет опыта разработки на Linux :c

> **Небольшое помечание:**
>
> Ввиду того, что тесты отсутствуют, минимальная проверка в виде работоспособности на Python 3.8 и самом последнем приветствуется.
>
> В противном случае, придется исправлять функционал для его работы на старой версии Python

#### Подготовка к отправке пулл реквеста

Вижу, вы уже сделали какие-либо правки или замутили супер-дупер фичу от которой все девочки ваши*

*_Но это не точно_

Чтож, вам осталось пройти пару этапов перед финальным ~~боссом~~ пулл реквестом:
1. Для начала, убедитесь, что ваши новые методы или классы имеют документацию _(можно даже базовую)_.

    Данный проект использует документацию типа reStructuredText, пример которой вы можете найти в интернете или в имеющихся файлах.
2. Запустите `pylint` на файлах, в которых вы что-то поменяли и исправьте все, что вам написал линтер.

    Данный проект использует .pylintrc с правилами от Google Style Guide
    > Если же вас преследует ошибка, которая никак не убирается, оставьте ее.
    > В дальнейшем, если ваши изменения будут значимыми, после слияния, разработчик попробует решить ошибки линтера самостоятельно
    > _**(Но это не значит что нужно оставлять все ошибки!!1!!!111!!)**_
3. Убедитесь, что проект собирается, введя в Терминал команду: ```poetry build```

#### Отправка пулл реквеста

Ура! Момент настал, вы уже почти на финише, что же нужно сделать для завершения?

1. Залейте свои изменения в свой репозиторий, предварительно сделав форк этого репозитория
    > Можно залить все в существующую ветку, однако желательно создать специальную ветку,
   > в названии которой кратко опишите суммарное изменение
2. [Создайте пулл реквест](https://github.com/SecondThundeR/shikithon/compare). В качестве базовой ветки, выберите ветку `develop`
3. Опишите кратко что вы поменяли/исправили/добавили, и, если хотите, распишите подробнее в секции комментария
4. Ожидайте...
5. Если изменения пройдут ревью, пулл реквест будет принят и слит в ветку `develop`. Иначе, вам оставят замечания или вовсе закроют пулл реквест, если он окажется _деструктивным_

> Если вы закрываете какой-то баг репорт, гляньте пометку об этом выше в разделе "Помощь в решении баг репорта", дабы автоматически закрыть этот баг репорт

### Пожелания по данному документу

Если вы считаете, что здесь можно добавить что-нибудь или исправить недочеты, форкните репозиторий и измените файл _(Можно даже в веб-интерфейсе)_

После этого, выполните этапы, в секции "Отправка пулл реквеста" выше
